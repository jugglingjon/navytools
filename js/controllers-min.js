app.controller("chapterController",function(t,a,e){function o(){var e=$('<a href="#" class="bookmark-toggle-btn" ng-click="bookmarkToggle()"><span class="bookmark-toggle-icon"></span> Bookmark</a>'),o=a(e)(t);$(".portal").prepend(o),$("figure").each(function(){var t=$(this).attr("data-id");$(this).prepend("Figure "+t+" &mdash; "),$(this).wrapInner("<figcaption></figcaption>");var a="media/"+t+".jpg",e=$('<img src="'+a+'">');$(this).prepend(e)}),$(".alert-note").each(function(){$(this).prepend("<h5>NOTE</h5>")}),$(".alert-warning").each(function(){$(this).prepend("<h5>WARNING</h5>")}),$(".alert-caution").each(function(){$(this).prepend("<h5>CAUTION</h5>")})}t.startChapter=1,t.chapterID=t.startChapter,e.get("chapters.json").then(function(a){t.chapters=a.data}),t.bookmarkToggle=function(){console.log(t.chapters[t.chapterID].bookmarked),1==t.chapters[t.chapterID].bookmarked?t.chapters[t.chapterID].bookmarked=!1:t.chapters[t.chapterID].bookmarked=!0,console.log(t.chapters[t.chapterID].bookmarked),$(".bookmark-toggle-btn").toggleClass("bookmarked")},t.openChapter=function(a){t.chapterID=a,$(".portal").empty().load(a+".html",function(){$(".portal").append($('<div class="quiz"></div>')),e.get("chapterQuestions.json").then(function(e){t.questions=e.data[a].questions}),o()})},t.openChapter(t.chapterID)});